generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Staff {
  event   Event       @relation(fields: [eventId], references: [id])
  id      String      @id @default(cuid())
  areas   StaffArea[]
  pseudo  String
  names   String
  role    String
  pole    String
  eventId String
}

model Area {
  event   Event       @relation(fields: [eventId], references: [id])
  id      String      @id @default(cuid())
  staff   StaffArea[]
  devices Device[]
  label   String
  eventId String
}

model StaffArea {
  staff   Staff  @relation(fields: [staffId], references: [id])
  area    Area   @relation(fields: [areaId], references: [id])
  staffId String
  areaId  String

  @@id([staffId, areaId])
}

model Device {
  area   Area?   @relation(fields: [areaId], references: [id])
  active Boolean @default(false)
  id     String  @id
  areaId String?
}

model Event {
  id     String   @id @default(cuid())
  date   DateTime
  staffs Staff[]
  areas  Area[]
  label  String
  cover  String
}

model Checking {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  success   Boolean
  device    String
  aera      String
  staff     String
}
